{% extends "pages/admin/base.html" %}

{% block content %}
<div class="pt-5 px-5 pb-3">
<div class="card pt-3 pb-3">
<h2 class="ml-3 mr-3 mt-4 mb-4 text-center">Create a manual match</h2>
<form class="px-4" action="/admin/dashboard/createone" id="manual-match-form" method="post">
    <select class="custom-select custom-select-lg mb-3 px-3" id="student-select" name="student">
        <option selected>Select a student</option>
        {% if students %}
        {% for student in students %}
        <option value="{{student.studentid}}">{{student.studentid}}</option>
        {% endfor %}
        {% endif %}
    </select>
    <select class="custom-select custom-select-lg mb-3" id="alum-select" name="alum">
        <option selected>Select an alum</option>
        {% if alumni %}
        {% for alum in alumni %}
        <option value="{{alum.aluminfoemail}}">{{alum.aluminfoemail}}</option>
        {% endfor %}
        {% endif %}
    </select>
    <div class="text-center">
    <button type="submit" class="btn btn-primary">Submit</button>
</div>
</form>
</div>
</div>

{% endblock %}
{% block manual_match %}active{% endblock %}
{% block extra_scripts %}
<script>
    $('#manual-match-form').submit(function () {
        if ($('#student-select').val() != 'Select a student' && $('#alum-select').val() != 'Select an alum') {  //Check the value of select
            return true; //allow to submit the form
        }
        else {
            alert("Both a student and alum must be selected");
            return false;  //Prevent form being submitted
        }
    });
</script>
{% endblock %}